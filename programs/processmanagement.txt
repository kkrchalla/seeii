PROGRAM		PID	LAST_REPORTED_TIME


PARSER		3120	.......


"SELECT PROGRAM, PID, TIMEDIFF(NOW(), LAST_REPORTED_TIME) FROM PROCESS_TAB ORDER BY 1"

while fetchrow {
	if (program eq 'parser') {
		if pid still active
			if timediff > 4 hours {
				kill pid
				submit parser
				print parser submitted
			} else {
				print parser already running
			}
		} else {
			submit parser
			print parser submitted
		}
	} elsif (program eq 'reader0') {
	} elsif (program eq 'reader1') {
	} elsif (program eq 'reader2') {
	} elsif (program eq 'reader3') {
	} elsif (program eq 'reader4') {
	} elsif (program eq 'reader5') {
	} elsif (program eq 'reader6') {
	} elsif (program eq 'reader7') {
	} elsif (program eq 'reader8') {
	} elsif (program eq 'reader9') {
	} elsif (program eq 'lister') {
	} else {
		print " error "
	}
}




inside each program

"INSERT INTO PROCESS_TAB (PROGRAM, PID, LAST_REPORTED_TIME) VALUES ("parser", ?, NOW()) ON DUPLICATE KEY UPDATE PID = VALUES(PID), LAST_REPORTED_TIME = NOW()"
"INSERT INTO PROCESS_TAB (PROGRAM, PID, LAST_REPORTED_TIME) VALUES ("lister", ?, NOW()) ON DUPLICATE KEY UPDATE PID = VALUES(PID), LAST_REPORTED_TIME = NOW()"
"INSERT INTO PROCESS_TAB (PROGRAM, PID, LAST_REPORTED_TIME) VALUES ("reader0", ?, NOW()) ON DUPLICATE KEY UPDATE PID = VALUES(PID), LAST_REPORTED_TIME = NOW()"
"INSERT INTO PROCESS_TAB (PROGRAM, PID, LAST_REPORTED_TIME) VALUES ("reader1", ?, NOW()) ON DUPLICATE KEY UPDATE PID = VALUES(PID), LAST_REPORTED_TIME = NOW()"
"INSERT INTO PROCESS_TAB (PROGRAM, PID, LAST_REPORTED_TIME) VALUES ("reader2", ?, NOW()) ON DUPLICATE KEY UPDATE PID = VALUES(PID), LAST_REPORTED_TIME = NOW()"
"INSERT INTO PROCESS_TAB (PROGRAM, PID, LAST_REPORTED_TIME) VALUES ("reader3", ?, NOW()) ON DUPLICATE KEY UPDATE PID = VALUES(PID), LAST_REPORTED_TIME = NOW()"
"INSERT INTO PROCESS_TAB (PROGRAM, PID, LAST_REPORTED_TIME) VALUES ("reader4", ?, NOW()) ON DUPLICATE KEY UPDATE PID = VALUES(PID), LAST_REPORTED_TIME = NOW()"
"INSERT INTO PROCESS_TAB (PROGRAM, PID, LAST_REPORTED_TIME) VALUES ("reader5", ?, NOW()) ON DUPLICATE KEY UPDATE PID = VALUES(PID), LAST_REPORTED_TIME = NOW()"
"INSERT INTO PROCESS_TAB (PROGRAM, PID, LAST_REPORTED_TIME) VALUES ("reader6", ?, NOW()) ON DUPLICATE KEY UPDATE PID = VALUES(PID), LAST_REPORTED_TIME = NOW()"
"INSERT INTO PROCESS_TAB (PROGRAM, PID, LAST_REPORTED_TIME) VALUES ("reader7", ?, NOW()) ON DUPLICATE KEY UPDATE PID = VALUES(PID), LAST_REPORTED_TIME = NOW()"
"INSERT INTO PROCESS_TAB (PROGRAM, PID, LAST_REPORTED_TIME) VALUES ("reader8", ?, NOW()) ON DUPLICATE KEY UPDATE PID = VALUES(PID), LAST_REPORTED_TIME = NOW()"
"INSERT INTO PROCESS_TAB (PROGRAM, PID, LAST_REPORTED_TIME) VALUES ("reader9", ?, NOW()) ON DUPLICATE KEY UPDATE PID = VALUES(PID), LAST_REPORTED_TIME = NOW()"
"INSERT INTO PROCESS_TAB (PROGRAM, PID, LAST_REPORTED_TIME) VALUES ("urllinkranker", ?, NOW()) ON DUPLICATE KEY UPDATE PID = VALUES(PID), LAST_REPORTED_TIME = NOW()"
"INSERT INTO PROCESS_TAB (PROGRAM, PID, LAST_REPORTED_TIME) VALUES ("wordlinkranker", ?, NOW()) ON DUPLICATE KEY UPDATE PID = VALUES(PID), LAST_REPORTED_TIME = NOW()"
"INSERT INTO PROCESS_TAB (PROGRAM, PID, LAST_REPORTED_TIME) VALUES ("wordranker", ?, NOW()) ON DUPLICATE KEY UPDATE PID = VALUES(PID), LAST_REPORTED_TIME = NOW()"
"INSERT INTO PROCESS_TAB (PROGRAM, PID, LAST_REPORTED_TIME) VALUES ("urlrejector", ?, NOW()) ON DUPLICATE KEY UPDATE PID = VALUES(PID), LAST_REPORTED_TIME = NOW()"
"INSERT INTO PROCESS_TAB (PROGRAM, PID, LAST_REPORTED_TIME) VALUES ("domainrejector", ?, NOW()) ON DUPLICATE KEY UPDATE PID = VALUES(PID), LAST_REPORTED_TIME = NOW()"
